<h1>Dashboard from <%= @user.first_name %></h1>
<h2>My locations</h2>

<div class="container">
  <div style="width: 100%; height: 600px;"
    data-controller="mapbox"
    data-mapbox-markers-value="<%= @markers.to_json %>"
    data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
  <div class="container-locations">
    <%= link_to "Add new location", new_user_location_path(@user) %>
    <div class="card-locations-visited">
      <h3>Visited</h3>
      <ul>
        <% @users_locations_visited.each do |users_location| %>
          <li><%= "#{users_location.location.address}" %></li>
        <% end %>
      </ul>
    </div>
    <div class="card-locations-wished">
      <h3>Want to go</h3>
      <ul>
        <% @users_locations_wished.each do |users_location| %>
          <li>
            <%= "#{users_location.location.address}" %>
            <%= link_to "Mark visisted", user_location_path(@user, users_location.location), method: :put %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
